<!DOCTYPE html>
<html lang="en" ng-app="portfolio">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimal-ui" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Andrew McConville</title>

    <style>*{box-sizing:border-box;}body{margin:0;}a,button{outline:0;padding:0;}h1,h2,h3,h4,h5,h6,p,a,img,article,aside,figure,figcaption,footer,header,menu,nav,section,summary,time,ul{border:0;font-size:100%;font:inherit;vertical-align:baseline;margin:0;padding:0}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}ol,ul{list-style:none}</style>
    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:200,300,400,600,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="shared/css/style.css">
</head>

<body id="js-body" ng-controller="appCtrl">
    <header class="app-header">
        <div class="toolbar">
            <button class="button button-secondary" ng-click="menuOpen = true">
                <svg class="icon icon-menu" ng-class="{'spin': menuOpen}"><use xlink:href="shared/icon-sprite.svg#icon-menu"></use></svg>
            </button>
            <div class="title">Andrew McConville</div>
        </div>
        <nav class="tabs" ng-init="activeTab = 0">
            <button class="button" ng-class="{active: activeTab == 0}" ng-click="activeTab = 0">About Me</button>
            <button class="button" ng-class="{active: activeTab == 1}" ng-click="activeTab = 1">Interfaces</button>
            <button class="button" ng-class="{active: activeTab == 2}" ng-click="activeTab = 2">Infographics</button>
        </nav>
    </header>

    <section class="work-list" ng-class="{'hidden-on-mobile': isDetailsState}">
        <ul masonry id="js-bricks" load-images="false" preserve-order masonry-options='{"transitionDuration": "320ms"}'>
            <li class="work masonry-brick" masonry-tile ng-repeat="work in ::works" ui-sref="details({url: work.url})">
                <div class="work-poster-container">
                    <img class="work-poster" ng-src="wp-content/uploads/{{::work.poster.src}}-thumbnail.png" height="{{::work.poster.height/2}}" width="170" />
                </div>
                <p class="work-name">{{::work.name}}</p>
                <p class="work-excerpt">{{::work.excerpt}}</p>
            </li>
        </ul>
        <div class="end-of-list-message">
            <p ng-click="console()">This is the end, email me!</p>
        </div>
    </section>

    <article id="js-work-details" class="work-details" ng-show="isDetailsState">
        <ui-view class="work-details-inner"></ui-view>
    </article>

    <nav class="app-menu" ng-show="menuOpen">
        <button class="button button-secondary button-back" ng-click="menuOpen = false">
            <svg class="icon icon-arrow" ng-class="{'spin': menuOpen}"><use xlink:href="shared/icon-sprite.svg#icon-arrow"></use></svg>
        </button>
        <ul class="menu-links" ng-class="{'stager': menuOpen}">
            <li class="menu-link">LinkedIn</li>
            <li class="menu-link">Google</li>
            <li class="menu-link">Resume</li>
            <li class="menu-link">About</li>
            <li class="menu-link">Interfaces</li>
            <li class="menu-link">Infographics</li>
        </ul>
    </nav>

    <script src="shared/js/libs/jquery-2.1.4.min.js"></script>
    <script src="shared/js/libs/masonry.pkgd.min.js"></script>
    <script src="shared/js/libs/angular.min.js"></script>
    <script src="shared/js/libs/angular-ui-router.min.js"></script>
    <script src="shared/js/libs/angular-animate.min.js"></script>
    <script src="shared/js/libs/angular-masonry.min.js"></script>
    <script src="shared/js/libs/fastclick.js"></script>
    <script src="shared/js/libs/perfect-scrollbar.min.js"></script>
    <script src="shared/js/app.js"></script>
    <script src="shared/js/appServices.js"></script>
    <script>
        if('addEventListener' in document){
            document.addEventListener('DOMContentLoaded', function(){
                FastClick.attach(document.body);
            }, false);
        }

        function isMobile(){ 
            if( navigator.userAgent.match(/Android/i)
             || navigator.userAgent.match(/webOS/i)
             || navigator.userAgent.match(/iPhone/i)
             || navigator.userAgent.match(/iPad/i)
             || navigator.userAgent.match(/iPod/i)
             || navigator.userAgent.match(/BlackBerry/i)
             || navigator.userAgent.match(/Windows Phone/i)){
                return true;
            } else {
                return false;
            }
        }

        if(isMobile() || window.innerWidth < 888){
            //do not use perfect scrollbar on touch devices
        } else {
            var workDetails = document.getElementById('js-work-details');
            Ps.initialize(workDetails, {});

            //var browserBody = document.getElementById('js-body');
            //Ps.initialize(browserBody, {});
        }
    </script>
</body>
</html>
